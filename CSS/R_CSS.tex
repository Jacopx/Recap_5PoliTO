
\title{Recap Computer System Security (02KRQOV)}
\author{Jacopo Nasi\\
        Computer Engineer\\
        Politecnico di Torino}
\date{I Period - 2018/2019\\\bigskip\bigskip\today}

\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{geometry}
\usepackage{indentfirst} % First line indent
\usepackage{mathtools}
\usepackage{wrapfig}
\usepackage[usenames, dvipsnames]{color}
\usepackage{float}
\usepackage{amssymb}
\usepackage{ifsym}
\usepackage{listings}
\usepackage{multicol}

% Misure Documento
\geometry{ a4paper, total={170mm,257mm},left=35mm, right=35mm, top=35mm, bottom=35mm }

\begin{document}

\begin{figure}
  \centering
  \includegraphics[width=10cm]{images/polito.pdf}
\end{figure}

\maketitle


\newpage
\tableofcontents

\newpage
{\noindent \Large \textbf{License}\bigskip}

This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\\
You are free:
\begin{itemize}
  \item \textbf{to Share}: to copy, distribute and transmit the work
  \item \textbf{to Remix}: to adapt the work
\end{itemize}
Under the following conditions:
\begin{itemize}
  \item \textbf{Attribution}: you must attribute the work in the manner specified by the author or licensor (but not in any way that suggests that they endorse you or your use of the work)
  \item \textbf{Noncommercial}: you may not use this work for commercial purposes.
  \item \textbf{Share Alike}: if you alter, transform, or build upon this work, you may distribute the resulting work only under the same or similar license to this one.
\end{itemize}

\noindent More information on the Creative Commons website (http://creativecommons.org).

\begin{figure}[h!]
  \centering
  \includegraphics[width=3cm]{images/license.png}
\end{figure}

{\noindent \Large \textbf{Acknowledgments}\bigskip}

Questo breve riepilogo non ha alcuno scopo se non quello di agevolare lo studio di me stesso, se vi fosse di aiuto siete liberi di usarlo.\\
Le fonti su cui mi sono basato sono quelle relative al corso offerto (\textbf{Computer System Security (02KRQOV)}) dal Politecnico di Torino durante l'anno accademico 2018/2019.\\
Non mi assumo nessuna responsabilit√† in merito ad errori o qualsiasi altra cosa. Fatene buon uso!
\newpage

\section{Introduction Security ICT System}
\textbf{Why is securoty an important issue?} Nowadays that everything is online and connected to a world wild network, the security over the ICT system has become fundamental. A lack of the secutiry could generate lose for milions of money. Also data breach become a problem.\\
Everydays technology improve and drive innovation but security must be improved together with the innovations.\\
With the increase of the number of connected devices, the IoT (Internet of Things), security start to facing a lot of more problem, the complexity of the scenario has become really really big. From personal devices, like desktop, laptop, fridge or car, by communications networks, and to distributed services, everything must be secured!\\
\paragraph{Complexity enemy of security} based on one of the first axiom of engineering: \textit{"The more complex a syste, is, the more difficult its correctness verification will be."}. Keep a system as simple as possible is always a good idea. The KISS rules (\textbf{\textit{Keep It Simple, Stupid}}) is one of the most important rule over the system security.
\paragraph{Definition of ICT Security}

\bigskip
``It is the set of products, services, organization rules and individual behaviours that protect the ICT system of a company.\\

It has the duty to protect the resources from undesired access, guarantee the privacy of information, ensure the service operation and availability in case of unpredictable events (C.I.A. = Confidentiality, Integrity, Availability).\\

The objective is to guard the information with the same professionalism and attention as for the jewels and deposit certificates stored in a bank caveau.\\

The ICT system is the safe of our most valuable information; ICT security is the equivalent of the locks, combinations and keys required to protect it.''\\
\rightline{{\rm --- \textbf{Italian Bank}}}
\bigskip

An important part of the security study is the Risk Estimation, is a fundamental step that take in account all the assets and events to evaluate the risk of something. The flow is showed in figure \ref{fig:risk_est}:

\begin{figure}[h!]
  \includegraphics[width=\linewidth]{images/risk_est.png}
  \caption{Risk Estimation}
  \label{fig:risk_est}
\end{figure}

Where the assets is composed by everythings needed by a service to work, both soft and hard part, also human resources. The vulnerabilities, intrinsic of an asset, represent the weakness of it. The threats is a deliberate action, or an accidental event, that can produce the loss of a security properties exploting a vulnerability. The event is also characterized by an impact and a probability that could be high, low or other middle values.\\
Direct following of the risk estimation is the Analysis and management of security. After the evaluation of risks, is necessary to:
\begin{enumerate}
  \item Select Countermeasures
  \item Implement Countermeasures
  \item Audit (check if works)
\end{enumerate}

The security implement is not a phase of the developmente process, is part of each sigle part of it. Security can't be compute at the end of the development, it must be implement from the beginning of the process. \textbf{Security is a process, not a product!} The following figure \ref{fig:dev} show the parallel line followed by the security development.

\begin{figure}[h!]
  \includegraphics[width=\linewidth]{images/dev.png}
  \caption{Security Life Cycle}
  \label{fig:dev}
\end{figure}

An important definition, before speaking about security itself, is the \textbf{Window of Exposure} the represent the time when an attack could be perfomed and there are no countermeasures to avoid it. This window could potentially be infinite and this is the real problem.
The figure \ref{fig:window} show how this windows id divided in different part:

\begin{figure}[h!]
  \includegraphics[width=\linewidth]{images/window.png}
  \caption{Window of Exposure}
  \label{fig:window}
\end{figure}

As already says, security is not a product but is a proccess. Computer flaws are inevitable and this is way we can't use devote our security to only secured products. The only way to effectively do business is an insecure world is to put processes in place that recognize the inheritent insecurity in the products. \textbf{The trick is to reduce your risk of exposure regardless of the products or patches}.

\paragraph{Security Principles} Here some of the most important security principles:
\begin{itemize}
  \item Security by Design
  \item Least Privilege: Only correct rights and the only few needed
  \item Need-to-know: Access to the only piece of stuff that are needed
  \item Security by Default
  \item Security in Depth: More the importance of the system, more the obstacles
\end{itemize}

\paragraph{Security Properties} The following list show the most importante properties of the security world:
\begin{itemize}
  \item Authentication (Simple/Mutual): Source (or both) must prove themself
  \item Data Origin/Authentication
  \item Authorization and Access Control
  \item Confidentiality/Privacy/Secrecy
  \item Non Repudiation: Formal proof, acceptable by a court of justice, that gives undeniable evidence of the data creator
  \item Availability
  \item Accountability
  \item Integrity: Modification, Filtering
\end{itemize}

\paragraph{Where is the enemy?} The enemy normally is supposed to be outside of our system but is not simple as it seems. The possible locations are:
\begin{itemize}
  \item Outside our organization (Firewall)
  \item Outside our organization, with exceptionn of our parters (VPN)
  \item Inside our organitazion
  \item Everywhere!
\end{itemize}
The last item is probably the more true. The distinction between internal/external and good/bad guys is no more sufficent. From the \textit{Verizon Data Breach Invetigation Report} the percentage of source of attacks is: 20\% Internal and 80\% External, probably the internal percentage is a little bit higher due to the fact that Verizon is a provider and can't show the internal side so much.

\paragraph{Basic Problems} There are some basic problem for security:
\begin{itemize}
  \item Networks are insecure:
  \begin{itemize}
    \item Clear communications
    \item LAN use broadcast
    \item Not E2E geographical connections
  \end{itemize}
  \item Weak user Authentication
  \item No server Authentication
  \item \textbf{Software with bugs!}
\end{itemize}

\paragraph{Classes of Attacks} Some of the most common type of attacks:
\begin{itemize}
  \item IP Spoofing / Shadow Server
  \item Packet Sniffing
  \item Connection Hijacking / Data Spoofing
  \item Denial-of-Service (Distributed DoS)
\end{itemize}
The \textbf{IP Spoofig}, or source address spoofing, is forginng the sourcce network address, typically performed at LV3 (IP), but also at LV2 can be performed. The typical attacks are: Data Forging and unauthorized access to systems.\\
The \textbf{Packet Spoofing} it reads the packet addresses to another network node, it easy to do in LAN or at the switching nodes. It allows to intercept password, data and other stuffs.\\
The \textbf{Denial-of-Service (DoS)} it keeps a host busy so that it can't provide its services. There are a lots of examples: mail/log saturation, ping flooding, SYN attacks. The main problem of this kind of attacks is that there are no countermeasures. The \textbf{Distributed DoS} are similar to the previous one but perfomed by a greater number of hosts (botnet), controlled by a master. The power is the same of a normal DoS multiplied by the number of deamons of the botnet. There are also some techniques to improve the attack like using a reflector to hide the attacker's track. One of the more important DDoS was performed agains Yahoo! during Feb 2000.\\
The \textbf{Shadow Server} is a technique that host that manage the attacks show itself (to victims) as a service provider without having the right to do so. It provide a "wrong" serice to victims, like bank sites or other stuffs.\\
\textbf{Connection Hijacking / MITM}, AKA Data Spoofing, is performed when attacker takes control of a communicatio channel to insert, delete, or manipulate traffics. It can edit data is all forms, and change the messages of the communications. Another similar for is the \textbf{Trojan / MITB}, it used the fact that network channels are more protected, but users terminals not. The behaviour is to install a keylogger to store everything. It could be also passed via browser extension.\\
The are other application-leve problems:
\begin{itemize}
  \item Buffer Overflow
  \item Cookies
  \item Clear password in DB
  \item "invent" a protection system
\end{itemize}
We make now some clearance about name of malwares:
\begin{itemize}
  \item Virus: Damage the target and replicate itself, propagated by humans (require complicity)
  \item Worm: Damage target because replications (resource saturation)
  \item Trojan: Malware vector
  \item Backdoor: Unauthorized access point
  \item Rootkit: Privileged access tools, hidden and stealth
  \item Ransomware: Make hosts unreadable (can be also silent)
\end{itemize}

\paragraph{Non technological problems} Prorably the greatest majority of the problems and leaks come from here! The are some basic problems: due to low awareness, mistakes, tendency to trust and other facts the major cause of leaks are humans.\\
The \textbf{Social Engineering} are sets of techniques used to asks the involutary user's partecipatio to the attack action, usually the na√Øve users are targeted (e.g. \textit{‚Äúdo change immediately your password with the following one, because your PC is under attack‚Äù}), also experienced users are targeted (e.g. by copying an authentic mail but changing its attachment or URL).\\
One of the most used technique is the \textbf{Phishing} (~fishing) where the attacker try to stole information (fishing) from the target (fish), it can be achieved, for example, by showing acquaintance with the company‚Äôs procedures, habits and personnel helps in gaining trust and make the target lower his defences. Is often performed by using fake mail, SMS or IM. The normal procedures works by attarcting the fish in a shadow server where it will leave of the sensitive informations or persuade to install plugins or other stuffs. Two variants exist, \textbf{spear phishing} (include several personal data to disguise the fake message as a good one, e.g. mail address, name of Dept/Office, phone no.) or \textbf{whailing} (targeted to VIP such as CEO or CIO).
The \textbf{Pharming} is a set of several techniques to re-direct a user towards a shadow server, chaging the hosts file, nameserver, poisoning cache of DNS. Some important examples of this techniques are T.J.Maxx attack, Transformed3 phishing or Stuxnet.\\
The typical path of attackers is showed in figure \ref{fig:killchain}.

\begin{figure}[h!]
  \includegraphics[width=\linewidth]{images/killchain.png}
  \caption{Cyber (intrusion) Kill Chain}
  \label{fig:killchain}
\end{figure}

From this brief introduction we can define he three pillars of security:
\begin{figure}[H]
  \includegraphics[width=\linewidth]{images/pillars.png}
  \caption{Pillars of Security}
  \label{fig:pillars}
\end{figure}
and we can define the main figures:
\begin{itemize}
  \item Hacker: Good and skilled
  \item Cracker: Bad but skilled
  \item Script Kiddie: Bad but NOT skilled
  \item Wannabe Lamer: Not good at all
\end{itemize}
%--------------------------------
%         END SLIDE 1           |
%--------------------------------

\section{Basic of ICT security}
\subsection{Cryptography Introduction}
The basic principles of Cryptography are showed in the following figure
\begin{figure}[H]
  \includegraphics[width=\linewidth]{images/crypt.png}
  \caption{Cryptography flow}
  \label{fig:crypt}
\end{figure}
Some important terminology. The message in clear is called:
\begin{itemize}
  \item Cleartext or plaintext
  \item Refer with \textbf{P}
\end{itemize}
Instead the encrypted message:
\begin{itemize}
  \item Ciphertext
  \item Refer with \textbf{C}
\end{itemize}

Some principles of Cryptography, written by Kerchoffs, are:
If the keys:
\begin{itemize}
  \item Are kept secret
  \item Are managed only by trusted systems
  \item Are of adeguate lenght
\end{itemize}
then...
\begin{itemize}
  \item it has no importance that the ecryption and decryption algorithms are kept secret
  \item on the contrary it is better to make the algorithms public so that they can be widely analysed and their possible weaknesses identified
\end{itemize}
In computer system STO (Security Through Obscurity) is not good.\\
An important operator of this world is the XOR function that is the ideal confusion operator, because it not change the probability. Is also a primitive operation present in all CPUs.

\subsection{Symmetric Cryptography}
Are all the algorithms based on a secret key shared between sender and receiver, used for encrypt and decrypt. Figure \ref{fig:symm} show the general flow of this kind of algorithms. The advantage are low computational cost, in fact is used for data encryption.\\
\begin{itemize}
  \item $C = enc(K, P)$
  \item $P = dec(K, C) = enc^{-1}(K, C)$
\end{itemize}
One of the main problem is \textit{"How to share (securely) the secret key among sender and receiver?"}. T
\begin{figure}[H]
  \includegraphics[width=\linewidth]{images/symm.png}
  \caption{Symmetric General flow}
  \label{fig:symm}
\end{figure}
There is not a confirmation of correct decryption, is up to the user to understand if the result is correct or not, in any case a result is provided with any key.\\

\paragraph{DES} (Data Encryption Standard) one of the first used by US government. Is now obsolete, is based on a key of 64 bits, composed by:
\begin{itemize}
  \item Key: 56 bits
  \item Parity: 8 bits
\end{itemize}
This means that the actual bit of resistence is 56. It's based on 64 bits of data blocks. It is also designed to be efficent in hardware with poor performance, the flow is:
\begin{enumerate}
  \item XOR
  \item Shift
  \item Permutation (not so good performance)
\end{enumerate}

\paragraph{3DES} is the triple repeted application of DES, it used two of three 56 bits keys. Is different from passe to a keys long 56*3 because the key lenght will not match with that number of bits. It can be computed in two ways:
\begin{itemize}
  \item 2 Keys: $C = enc(K_1, dec(K_2, enc(K_1, P)))$
  \item 3 Keys: $C = enc(K_3, dec(K_2, enc(K_1, P)))$
\end{itemize}
The central step of decryption is made to generated mess.\\
An important issue of the encryption is the doubling of an algorithms. Double application of encryption algorithms is subject to a know-plaintext attack named \textbf{meet-in-the-middle} which allows to decrypt data with at most $2^N+1$ attempts (if the keys are N-bits long). Thus the double version is never used, it double the computation time and increase they key lenght of only one bit. The formulas are:
\begin{itemize}
  \item [] $C = enc(K2, enc(K1, P))$
  \item [] $dec(C, K2) = dec(K2, enc(K2, enc(K1, P)))$
  \item [] $dec(C, K2) = enc(K1, P)$
\end{itemize}
The attacker can compute ENC(K1, P) for all values of K1 and DEC(K2, C) for all possible values of K2, and add only 1 bit of strenght for 2 keys of the same size.

\paragraph{IDEA} International Data Encryption Algorithm it was patented but with low royalty, developed for 16 bits architectures. It use a 128 bits key and 64 bits of data block, it's famous because is used in PGP. The operation used are:
\begin{itemize}
  \item XOR
  \item Addition Modulo 16
  \item Multiplication Modulo $2^{16}+1$
\end{itemize}

\paragraph{RC2, RC4} other algorithms developed by Ron Rivest (Ron's Code), they are algorithm proprietary of RSA but not patented, 3 to 10 times faster than DES. RC2 is a block algorithm, RC4 is a stream one. They are using a variable length key.

\paragraph{Application of block algorithms} applying these algorithm over data of size different from the block size require a little effort. When the data size is greater that the algorithm's block size:
\begin{itemize}
  \item ECB (Electronic Code Block)
  \item CBC (Cipher Block Chaining)
\end{itemize}
In the other case:
\begin{itemize}
  \item Padding
  \item CFB (Chiper FeedBack), OFB (Output FeedBack)
  \item CTR (Counter Mode)
\end{itemize}

The frist solution \textbf{ECB} is a bad idea, it based on the division of the data in chunks with the same size of a block, by encrypting them with a K (key), the formula is: $C_i = enc(K, P_i)$. The problems of this solution are:
\begin{itemize}
  \item Swapping of two blocks of cipher goes undetected
  \item Identical blocks generated identical cipher texts hence it is vulnerable to \textit{know-plaintext} attacks. (Word example)
\end{itemize}
These are the main reason to avoid the use of this solution for big data. The decryption is made by reversing the process. The figure \ref{fig:ecb} show the process.
\begin{figure}[H]
  \includegraphics[width=\linewidth]{images/ecb.png}
  \caption{ECB}
  \label{fig:ecb}
\end{figure}
The solution of \textbf{CBC} [figure \ref{fig:enc_cbc}] is more secure, by using an IV (Initialization Vector), it encrypt the block by XORing it with the previous block and with the key, this avoid the problem of the \textit{know-plainntext}, because same text in different position will generate different encrypted text. The IV is added for increasing the difficulties of decryption. The formula is the following:
\begin{center}
  $C_i = enc(K, P_i \oplus C_{i-1})$
\end{center}
The decryption require the Initialization Vector ($C_{0}$), the formula is the revert the process by the following formula:
\begin{center}
  $P_i = dec(K, C_i)\oplus C_{i-1}$
\end{center}

\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth]{images/enc_cbc.png}
  \caption{CBC Encryption}
  \label{fig:enc_cbc}
\end{figure}

When the data is shorted than the block size, a \textbf{padding} (or aligning, filling) is required. It consist by adding some data at the end to completely fill the block. The are several techniques used for padding:
\begin{itemize}
  \item If the length is know: 0x00 bytes
  \item Original DES: 1 bit followed by 0
  \item One byte 128 (0x80) followed by null 0x00
  \item Last byte value equal to length of padding
\end{itemize}
 The are also some techniques with explicit length for padding:
 \begin{itemize}
   \item (SSL/TLS) bytes with value L
   \item (SSH2) random bytes
   \item (IPsec/ESP) progressive numbers
 \end{itemize}

Padding is typically applied to large data, on the last fragment resulting from the division in blocks (ECB or CBC), for $|D| < |B|$ we prefer ad hoc techniques like CFB, OFB or CTR. Another important note is that, even if the plaintext is an exact multiple of the block, padding must be added anyhow to avoid errors in the interpretation of the last block.\\

\textbf{CTS} (CipherText Stealing) permits to use block algorithms without padding:
\begin{itemize}
  \item Last (partial) block filled with bytes from the second-to-last block
  \item These bytes are removed from the second-to-last block (which become partial)
  \item After encryption, exchange the position of the last and second-to-last blocks.
\end{itemize}
 The figure shows better the solution algorithm:
\begin{figure}[H]
   \centering
   \includegraphics[width=\linewidth]{images/cts.png}
   \caption{CTS with ECB Encryption}
   \label{fig:cts}
\end{figure}
This technique is useful when we cannot increase the size of the data after the encryption. The tail, store, after the encryption in the second-to-last block is encrypted 2 times and it requires 2 decryption.\\
The \textbf{CRT} (Counter mode), really used, uses a block algorithm to cipher N bits at a time. It require:
\begin{itemize}
  \item \textbf{NONCE} = Number used ONCE
  \item counter
\end{itemize}
The flow is showed in the following figure \ref{fig:crt}:
\begin{figure}[H]
   \centering
   \includegraphics[width=\linewidth]{images/crt.png}
   \caption{CRT flow}
   \label{fig:crt}
\end{figure}

\paragraph{Symmetric Stream Algorithms} this kind of algorithms not require to separate datas in blocks. They operate over one bit/byte at the time. The ideal algorithms require a key which is as long as the message to protect, of course this is not possible. The real algorithms use pseudo-random key generators, synchronized between the sender and receiver, some examples are RC4 and SEAL. The idea is show in figure
\begin{figure}[H]
   \centering
   \includegraphics[width=\linewidth]{images/stream.png}
   \caption{Algorithms of type stream}
   \label{fig:stream}
\end{figure}
A lot of challenges were started for stream ciphers, some algorithms are:
\begin{itemize}
  \item HC-128, Salsa, SOSEMANUK
  \item Grain v1, MICKEY 2.0
  \item Salsa20 and ChaCha20
  \item Camellia
  \item SEED and ARIA
\end{itemize}

\paragraph{Problem of symmetric cryptography} one of the main problem of all this technique is that one key is required for each couple / group of user in order to guarantee privacy within groups. This means that, for a complete private communication between N parties, \textbf{$N*(N-1)/2$} keys are necessary, these require key exchange algorithms and generate a problem for large groups.\\
Another know problem is the \textbf{length of secret keys}, if:
\begin{itemize}
  \item The encryption algorithm was well designed
  \item the keys - N bit length - are kept secret
\end{itemize}
... then the only possible attack is the brute force (exhaustive) attack which requires a number of trials equal to:
\begin{center}
  $T = 2^{Nbit}$
\end{center}
This means that and increase of the computational power, reduce the strenght of the keys, that require a growning number over years. For this reason a challenges (AES) was promoted to develop another algorithm, the winner was \textbf{Rijndael}.

\subsection{Asymmetric Cryptography}
The Asymmetric Cryptography is based on 2 different keys generated in pairs, the two keys are different, one is called \textit{public} (\textbf{Kpub}) and the other \textit{private} (\textbf{Kpri}). If one key is used for encryption then the other one must be used for decryption, they have an inverse functionality. The computation load is high, due to this fact asymmetric encryption is used only for data streams and should not be used for data storage. The figure \ref{fig:asymmetric} show the process. The principals algorithms are:
\begin{itemize}
  \item Diffie-Hellman, RSA, DSA, El Gamal, etc...
\end{itemize}
\begin{figure}[H]
   \centering
   \includegraphics[width=\linewidth]{images/asymmetric.png}
   \caption{Asymmetric Cryptography with pairs of keys}
   \label{fig:asymmetric}
\end{figure}
Another possible application os this kind of cryptography is the \textbf{Digital Signature}, used to provide data authentication and integrity. Usually not all the data is encrypted but only its summary (\textbf{\textit{digest}}).\\
Another important feature is the possibility to make secret message for a particular receiver given only its public key.\\

\subsubsection{RSA}
This algoritmh is based on a public module:
\begin{center}
  \textbf{$N=P * Q$}
\end{center}
known to anybody P and Q are \textbf{\textit{prime number, large and secret}}. Another value, $PHI=(P-1)(Q-1)$, along a public exponent E such that arbitrarily $1<E<PHI$ and it is relative prime with respect to PHI.\\
From these element, a private exponent is computed:
\begin{center}
    $D=E^{-1}mod(PHI)$
\end{center}
from this last value the 2 keys can be computed:
\begin{itemize}
  \item public key = (N, E)
  \item private key = (N, D)
\end{itemize}
\textbf{After that computation P and Q must be deleted, discarded, killed!!!} Otherwise the process can be inverted.\\
An important note about RSA is that it can cipher/decipher only data whose value is less than the value of the module N, similar to a block algorithm but with a variable lenght. The final result is computed:
\begin{itemize}
  \item encrypt: $c = p^E mod(N)$
  \item decrypt: $c = p^E mod(N)$
\end{itemize}
For matematichal reasons the roles of the 2 exponents, E and D, are interchangeable:
\begin{center}
  $(x^D)^E mod(N) == (x^E)^D mod(N)$
\end{center}
The advantage of using modular arithmetic is that the inverse of a reminder of a module could be "any number", there are infinite possibilities. An example in figure \ref{fig:example_rsa}:
\begin{figure}[H]
   \centering
   \includegraphics[width=\linewidth]{images/example_rsa.png}
   \caption{RSA an example}
   \label{fig:example_rsa}
\end{figure}
During years some optimizations were developed, like the one based on the CRT (Chinese Remainder Theorem) that makes the procedure 4x times faster.

\paragraph{Weaknesses} There are some know weaknesses:
\begin{itemize}
  \item Small encryption exponent
  \item Same keys for encryption and signing
  \item Acting as an oracle
\end{itemize}
Nowadays the lenght of the keys is important:
\begin{itemize}
  \item 512 bits keys $\sim$ Some weeks
  \item 1024 bits keys $\sim$ Some Months
  \item \textbf{2048 bits keys $\sim$ Several Years}
\end{itemize}

During Eurocrypt of 1999 a devices for decrypting RSA faster was annouced, it has never been presented, probably for interest reasons. For that, some governments, no longer want to use RSA solutions.\\

\subsubsection{Key Distribution}
The distribution is a fundamental step of asymmetric cryptography, the private key must kept SECRET, the ublic instead must be distributed as widely as possible. But how is possible to guarantee the binding between public key and person identity? There are 2 possible solutions:
\begin{itemize}
  \item Exchange of keys Out-Of-Band (e.g. keys party)
  \item Distribution by specific data structure (public key certificate)
\end{itemize}

Confidentiality without shared secrets is often used to send the secret key chosen for a symmetric algorithm, looking at figure \ref{fig:no_share}.
\begin{figure}[H]
   \centering
   \includegraphics[width=\linewidth]{images/no_share.png}
   \caption{Confidentiality, no shared secret}
   \label{fig:no_share}
\end{figure}

\subsubsection{Diffie-Hellman}
Is the other well-know algorithm for asymmetric encryption. The idea behind the DH algorithm is good represented by figure \ref{fig:dh}.
\begin{figure}[H]
   \centering
   \includegraphics[width=\linewidth]{images/dh.png}
   \caption{Diffie-Hellman idea}
   \label{fig:dh}
\end{figure}
It was the first developed public-key algorithm, is frequently used to agree on a sceret key (\textit{key agreement}), it was patented but is now expired. One advantage is that is sniffing resistant. It can be exploited by a MITM attack by manipulating the data like in figure \ref{fig:dh_mitm}.
\begin{figure}[H]
   \centering
   \includegraphics[width=\linewidth]{images/dh_mitm.png}
   \caption{Diffie-Hellman MITM}
   \label{fig:dh_mitm}
\end{figure}

The complexity of DH is a discrete logarithm, in any case also RSA, required the usage of quantum computer to be exploited in a reasonable amount of time.

\subsection{Elliptic Curve Cryptography}
This solution instead of using modular arithmetic, the operations are executed on the surface of a 2D (elliptic) curve. The problem of discrete logarithm on such a curve is more \textbf{more complex} than modular and allows \textbf{shorter keys} (about 1/10). A lot of algorithms has been rewritten, \textbf{EC}DSA or \textbf{EC}DH.\\

\paragraph{ECDH} the EC version of Diffie-Hellman is the same as before but with the math of an elliptic curve.\\
\begin{itemize}
  \item A and B select same elliptic curve and a point G of its
  \item A chose a random value x and computes: $X = x G$
  \item B chose a random value y and computes: $Y = y G$
  \item A and B exchange (publish) X and Y
  \item A computes $K = x Y$
  \item B computes $K' = y X$
\end{itemize}
but the final result will be that:
\begin{center}
  $K = K' = x y G$
\end{center}
There are also other algorithms like ECDSA:
\begin{itemize}
  \item Message digest computed with normal hash function (SHA-256)
  \item Signature = pair of scalars derived from the digest plus some operations on the curve
\end{itemize}
The ECIES instead:
\begin{itemize}
  \item Generates a symmetric encryption key (AES-128) with operations on the curve
  \item Gives to the receiver the information (based on his public key) needed to recompute the encryption key
\end{itemize}

\subsection{Integrity}

\end{document}
